(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const b=(t,e,n)=>()=>{D(t,e,n)},d=(t,e="value")=>{nt(t)||c(t,e,"an instance of HTMLElement")},g=t=>O(t)==="",C=t=>typeof t=="string",v=t=>C(t)?t:"",O=t=>v(t).trim(),x=t=>p(t).slice(8,-1),p=t=>Object.prototype.toString.call(t),G=(t,e=80)=>{let n;if(typeof t=="bigint")n=t.toString()+"n";else if(t instanceof WeakMap||t instanceof WeakSet||t instanceof Map||t instanceof Set||t instanceof Promise)n=String(t);else try{n=JSON.stringify(t)}catch{n=String(t)}return n===void 0&&(n=String(t)),n.length>e?n.slice(0,e)+"…":n},$=t=>(a(t,"raw"),JSON.parse(t)),k=(t,e=null)=>{try{return $(t)}catch(n){return console.error("parseJSONWithFallback: Failed to parse JSON. Raw value:",t,n),e}},I=(t,e="value")=>{Pt(t)||c(t,e,"an instance of Node")};function K(t,e){if(t=l(t),e=l(e),!pt(t,e))throw new Error(`Cannot nest <${e}> inside <${t}> — this is prohibited by the rules.`)}const W=(t,e="value")=>{ct(t,e)||c(t,e,"an HTMLElement that supports textContent")},J=(t,e)=>{I(t,"first argument - ParentNode"),I(e,"second argument - ChildNode");const n=t.contains(e);return n||c(e,`${u(t)}.contains(${u(e)})`,`a child element contained in ${u(t)}`),n},j=(t,e)=>{I(t,"first argument"),a(e,"second argument");const n=t.closest(e);return z(n,`${u(t)}.closest result`,`an Element matching selector "${e}"`),n},E=t=>{if(a(t,"CSS class name or HTML class name"),g(t))throw new SyntaxError("Class name cannot be empty.");if(/\s/.test(t))throw new SyntaxError(`Class name must not contain spaces: "${t}"`);if(!/^-?[_\p{L}][_\p{L}\p{N}-]*$/u.test(t))throw new SyntaxError(`Invalid class name: "${t}". A valid class name must be a non-empty string without spaces, start with a letter, underscore (_), or hyphen (-), and contain only letters, digits, hyphens (-), and underscores (_). Examples: "header", "_hidden", "-dark-theme", "menu_item-1", "привет", "按钮".`)},T=(t,e="value")=>{It(t)||c(t,e,"a DOM element of type <input>")},h=(t,e="value")=>{dt(t)||c(t,e,"a DOM element of type <ul>")},M=(t,e="value")=>{ut(t)||c(t,e,"a DOM element of type <li>")},q=(t,e="value")=>{Lt(t)||c(t,e,"a DOM element of type <button>")},Y=(t,e="value")=>{gt(t)||c(t,e,"a DOM element of type <div>")},R=(t,e="value")=>{Rt(t)||c(t,e,"an instance of Event")},Q=t=>{if(a(t),g(t))throw new SyntaxError("Selector cannot be an empty string.");try{document.createElement("div").querySelector(t)}catch(e){throw new SyntaxError(`Invalid CSS selector: "${t}". ${e.message}`)}},X=t=>{if(Q(t),!t.startsWith("."))throw new SyntaxError('Selector must start with "."')},a=(t,e="value")=>{C(t)||c(t,e,"string")},z=(t,e="value",n="a non-null and non-undefined value")=>{t==null&&c(t,e,n)},c=(t,e,n)=>{const o=p(t),s=x(t),r=G(t);throw new TypeError(`Expected ${e} to be ${n}, but received ${o} of type ${s} with value ${r}`)},Z=(t,e="localStorage")=>{t!==globalThis.localStorage&&c(t,e,"globalThis.localStorage")},tt=t=>{if(!(()=>{try{const n="__test__";return t.setItem(n,"1"),t.removeItem(n),!0}catch{return!1}})())throw new Error("globalThis.localStorage is present but not usable at runtime — possibly due to browser restrictions (e.g., Safari private mode, quota exceeded, or disabled access).")},et=t=>{Z(t),tt(t)},S=t=>{a(t);const e=document.querySelector(t);return d(e),e},u=t=>{const e=l(t),n=t.id?`#${t.id}`:"",o=t.classList.length?"."+Array.from(t.classList).join("."):"";return`<${e}${n}${o}>`},L=(t,e)=>(K(t,e),t.appendChild(e)),nt=t=>t instanceof HTMLElement,ot=t=>ht.has(l(t)),st=t=>Mt.has(l(t)),f=(t,e)=>{d(t,"first argument"),E(e),t.className=e},rt=(t,e)=>{d(t,"first argument"),a(e,"second argument"),t.classList.toggle(e)},m=(t,e)=>{W(t,"first argument"),a(e,"second argument"),t.textContent=e},ct=(t,e="value")=>(d(t,e),!(st(t)||ot(t))),l=t=>(d(t,"first argument"),t.tagName),at=(t,e)=>j(t,e),it=(t,e)=>J(t,e),lt=()=>document.createElement("li"),dt=t=>t instanceof HTMLUListElement,ut=t=>t instanceof HTMLLIElement,y=(t,e)=>{h(t,"first argument"),M(e,"second argument"),L(t,e)},Et=(t,e)=>{M(t,"first argument"),E(e),f(t,e)},Tt=t=>{T(t),t.value=""},St=t=>{T(t),t.value="",t.focus()},mt=t=>(T(t),t.value),N=t=>O(mt(t)),It=t=>t instanceof HTMLInputElement,P=()=>document.createElement("span"),Lt=t=>t instanceof HTMLButtonElement,gt=t=>t instanceof HTMLDivElement,ft=t=>(X(t),t),A={UL:new Set(["Flow content","Metadata content"]),OL:new Set(["Flow content","Metadata content"]),DL:new Set(["Flow content"]),SELECT:new Set(["Phrasing content","Metadata content"]),TABLE:new Set(["Flow content"]),THEAD:new Set(["Flow content"]),TBODY:new Set(["Flow content"]),TFOOT:new Set(["Flow content"]),COLGROUP:new Set(["Metadata content"]),TR:new Set(["Flow content"]),HEAD:new Set(["Metadata content"]),OPTGROUP:new Set(["Phrasing content"]),A:new Set(["Phrasing content"]),BUTTON:new Set(["Phrasing content"]),P:new Set(["Phrasing content"]),LI:new Set(["Flow content","Phrasing content"]),DIV:new Set(["Flow content"]),SECTION:new Set(["Flow content"]),ARTICLE:new Set(["Flow content"]),NAV:new Set(["Flow content"]),HEADER:new Set(["Flow content"]),FOOTER:new Set(["Flow content"]),ASIDE:new Set(["Flow content"]),MAIN:new Set(["Flow content"]),BLOCKQUOTE:new Set(["Flow content"]),SPAN:new Set(["Phrasing content"]),EM:new Set(["Phrasing content"]),STRONG:new Set(["Phrasing content"]),SMALL:new Set(["Phrasing content"]),MARK:new Set(["Phrasing content"]),SUB:new Set(["Phrasing content"]),SUP:new Set(["Phrasing content"])},At={A:new Set(["A"]),BUTTON:new Set(["BUTTON"]),LABEL:new Set(["LABEL"]),FORM:new Set(["FORM"]),P:new Set(["DIV","SECTION","ARTICLE","HEADER","FOOTER","NAV","ASIDE","MAIN","TABLE","UL","OL","FORM"])},wt={"Metadata content":["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"],"Flow content":["DIV","P","UL","OL","LI","SECTION","ARTICLE","ASIDE","NAV","HEADER","FOOTER","MAIN","TABLE","FORM","FIGURE","FIGCAPTION","HR","BLOCKQUOTE","PRE"],"Sectioning content":["ARTICLE","ASIDE","NAV","SECTION"],"Heading content":["H1","H2","H3","H4","H5","H6","HGROUP"],"Phrasing content":["A","ABBR","AREA","AUDIO","B","BDI","BDO","BR","BUTTON","CANVAS","CITE","CODE","DATA","DATALIST","DEL","DFN","EM","EMBED","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PICTURE","PROGRESS","Q","RUBY","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","SVG","TEMPLATE","TEXTAREA","TIME","U","VAR","VIDEO","WBR"],"Embedded content":["AUDIO","CANVAS","EMBED","IFRAME","IMG","MATH","OBJECT","PICTURE","SVG","VIDEO","SOURCE","TRACK"],"Interactive content":["A","AUDIO","BUTTON","DETAILS","EMBED","IFRAME","INPUT","LABEL","SELECT","TEXTAREA","VIDEO"]},Ct=(()=>{const t={};for(const[e,n]of Object.entries(wt))for(const o of n)t[o]||(t[o]=new Set),t[o].add(e);return t})(),Ot=["LI","SCRIPT","TEMPLATE"],pt=(t,e)=>{const n=t.toUpperCase(),o=e.toUpperCase(),s=At[n];if(s&&s.has(o)||(n==="UL"||n==="OL")&&!Ot.includes(o))return!1;if(!A[n])return!0;const r=A[n],i=Ct[o];if(!i)return!0;for(const F of i)if(r.has(F))return!0;return!1},ht=new Set(["VIDEO","AUDIO","PICTURE","CANVAS"]),Mt=new Set(["AREA","BASE","BR","COL","EMBED","HR","IMG","INPUT","LINK","META","PARAM","SOURCE","TRACK","WBR"]),Rt=t=>t instanceof Event,yt=t=>(R(t),t.target),Nt=t=>(R(t),t.currentTarget),Pt=t=>t instanceof Node,_t=t=>{const{target:e,currentTarget:n,className:o}=$t(t);it(n,e),bt(e,o)},Dt=t=>{const e=t.target;if(!e.classList.contains("todo__remove"))return;const n=e.closest(".todo__item");n&&n.parentElement&&n.parentElement.removeChild(n);const o=U(".todo__list"),s=B(o);V(s)},Bt=t=>()=>{Kt(t)},Ut=(t,e,n)=>o=>{o.key==="Enter"&&D(t,e,n)},Ht=(t,e)=>{Ft(t,e),Tt(e)},Vt=t=>{const e=N(t);return!g(e)},Ft=(t,e)=>{const n=N(e),o=_(n);y(t,o);const s=B(t);V(s)},bt=(t,e)=>{rt(t,e)},_=(t,e="todo__item")=>{const n=Gt(e);return L(n,xt(t)),L(n,vt()),n},vt=()=>{const t=P();return f(t,ee()),m(t,"×"),t.setAttribute("aria-label","Delete task"),t.setAttribute("role","button"),t},xt=(t,e="todo__text")=>{const n=P();return f(n,e),m(n,t),n},Gt=t=>{const e=lt();return Et(e,t),e},$t=t=>({selector:w(),className:te(),target:at(yt(t),w()),currentTarget:Nt(t)}),kt=(t,e)=>m(t,e),Kt=t=>m(t,""),D=(t,e,n)=>{Vt(t)?Ht(e,t):kt(n,"Task cannot be empty"),St(t)},B=t=>Array.from(t.children).map(e=>e.querySelector(".todo__text").textContent),Wt={todoButton:".todo__btn",todoInput:".todo__input",todoList:".todo__list",todoValidMessage:".todo__error"},Jt=t=>{const e=S(t);return q(e),e},jt=t=>{const e=S(t);return T(e),e},U=t=>{const e=S(t);return h(e),e},qt=t=>{const e=S(t);return Y(e),e},{todoButton:Yt,todoInput:Qt,todoList:Xt,todoValidMessage:zt}=Wt,Zt=()=>({todoButton:Jt(Yt),todoInput:jt(Qt),todoList:U(Xt),todoValidMessage:qt(zt)}),w=()=>ft(".todo__item"),te=()=>{const t="todo__item--checked";return E(t),t},ee=()=>{const t="todo__remove";return E(t),t},ne=(t,e)=>(et(t),a(e,"key"),t.getItem(e)),oe=(t,e,n)=>{const o=ne(t,e);return k(o,n)},H={todo:"todoList"},se=()=>{const t=[],e=oe(localStorage,H.todo,t);return Array.isArray(e)?e:t},V=t=>{try{localStorage.setItem(H.todo,JSON.stringify(t))}catch(e){console.error("Failed to save todos:",e)}},re=()=>{const{todoButton:t,todoInput:e,todoList:n,todoValidMessage:o}=Zt();se().forEach(r=>y(n,_(r))),t.addEventListener("click",b(e,n,o)),n.addEventListener("click",r=>{_t(r),Dt(r)}),e.addEventListener("keydown",Ut(e,n,o)),e.addEventListener("input",Bt(o))};window.addEventListener("DOMContentLoaded",re);
